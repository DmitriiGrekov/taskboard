(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{45:function(t,e,s){},46:function(t,e,s){"use strict";s.r(e);var a=s(1),n=s.n(a),r=s(20),o=s.n(r),c=s(21),i=s(2),l=s(3),u=s(5),d=s(4),h=s(8),p=s.n(h),j=s(7),_=s.n(j),b=s(0),f=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(){return Object(i.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"text-center title",children:[Object(b.jsx)("span",{className:"color_red",children:"T"}),"ask ",Object(b.jsx)("span",{className:"color_red",children:"B"}),"oard"]})})}}]),s}(a.Component),m=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(){var t;Object(i.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).refresh_vision=function(e){e.preventDefault(),console.log("hello"),t.props.refresh_task_vision()},t}return Object(l.a)(s,[{key:"render",value:function(){return this.props.auth?Object(b.jsxs)("div",{className:"auth",children:[Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"",id:"",children:this.props.username})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"",id:"logout_user",onClick:this.props.logout_user_func,children:"\u0412\u044b\u0439\u0442\u0438"})})]}),Object(b.jsx)("button",{className:"btn btn-primary ",id:"add_task_button",onClick:this.refresh_vision,children:"+"})]}):Object(b.jsxs)("div",{className:"auth",children:[Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"",id:"login_button",children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"",id:"register_button",children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),this.props.auth?Object(b.jsx)("button",{className:"btn btn-primary ",id:"add_task_button",onClick:this.refresh_vision,children:"+"}):Object(b.jsx)(b.Fragment,{})]})}}]),s}(a.Component),O=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(t){var a;return Object(i.a)(this,s),(a=e.call(this,t)).show_current_task=function(t){t.preventDefault();var e=a.props.title,s=a.props.content,n=a.props.date_ending;a.props.show_task(e,s,n)},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"card task_card",task_id:"1",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("div",{className:"task_header",children:Object(b.jsx)("a",{href:"",onClick:this.show_current_task,children:this.props.title})}),Object(b.jsx)("div",{className:"task_date",children:this.props.date_ending})]})})}}]),s}(a.Component),k=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(){return Object(i.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"nothing_task",children:"\u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438"})}}]),s}(a.Component),g=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(){return Object(i.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"nothing_task",children:"\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}}]),s}(a.Component),v=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(t){var a;return Object(i.a)(this,s),(a=e.call(this,t)).render_list_block=function(){return a.props.auth?a.props.tasks<1?Object(b.jsx)(k,{}):Object(b.jsx)("div",{className:"task_list mt-3",children:Object.keys(a.props.tasks).map((function(t){return Object(b.jsx)(O,{title:a.props.tasks[t].title,date_ending:a.props.tasks[t].date_ending,content:a.props.tasks[t].content,show_task:a.props.show_task},t)}))}):Object(b.jsx)(g,{})},a.state={},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:this.render_list_block()})}}]),s}(a.Component),x=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(){return Object(i.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"col-xl-6 col-lg-6 col-md-6",children:Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)(m,{auth:this.props.auth,username:this.props.username,logout_user_func:this.props.logout_user_func,refresh_task_vision:this.props.refresh_task_vision}),Object(b.jsx)(v,{tasks:this.props.tasks,auth:this.props.auth,show_task:this.props.show_task})]})})})}}]),s}(a.Component),y=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(t){var a;return Object(i.a)(this,s),(a=e.call(this,t)).titleRef=n.a.createRef(),a.contentRef=n.a.createRef(),a.dateRef=n.a.createRef(),a.add_task=function(t){if(t.preventDefault(),a.props.auth){var e=a.titleRef.current.value,s=a.contentRef.current.value,n=a.dateRef.current.value,r="Token "+localStorage.getItem("user_token"),o={title:e,content:s,date_ending:n};p()({method:"post",url:"https://taskboard.pythonanywhere.com/api/v1/list/tasks/",data:o,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:r}}).then((function(t){console.log(t.data),a.props.add_new_task_in_state(t.data)})).catch((function(t){}))}},a.state={display:!0},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsx)("div",{style:{display:this.props.auth&&!this.props.current_task_vision?"block":"none"},className:"task_add_form",children:Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{className:"form-group mb-1",children:[Object(b.jsx)("label",{htmlFor:"title",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438"}),Object(b.jsx)("input",{ref:this.titleRef,type:"text",className:"form-control",id:"title",name:"title","aria-describedby":"Title",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0435 \u0437\u0430\u043f\u0438\u0441\u0438"})]}),Object(b.jsxs)("div",{className:"form-group mb-2",children:[Object(b.jsx)("label",{htmlFor:"content",children:"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438"}),Object(b.jsx)("textarea",{ref:this.contentRef,name:"content",id:"content",cols:"30",rows:"10",className:"form-control",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c"})]}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{ref:this.dateRef,type:"date",className:"form-control",name:"date"})}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:this.add_task,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"})]})})}}]),s}(a.Component),w=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(t){var a;return Object(i.a)(this,s),(a=e.call(this,t)).usernameRef=n.a.createRef(),a.passwordRef=n.a.createRef(),a.password2Ref=n.a.createRef(),a.emailRef=n.a.createRef(),a.register_user=function(t){t.preventDefault();var e=a.passwordRef.current.value;e!=a.password2Ref.current.value?a.setState({password_d_match:!0}):a.setState({password_d_match:!1}),e.length<8?a.setState({password_small:!0}):a.setState({password_small:!1});var s={username:a.usernameRef.current.value,password:e,email:a.emailRef.current.value};p()({method:"post",url:"https://taskboard.pythonanywhere.com//auth/users/",data:s,config:{headers:{Accept:"application/json","Content-Type":"application/json"}}}).then((function(t){a.setState({user_exist:!1,register_success:!0})})).catch((function(t){a.setState({user_exist:!0})}))},a.state={password_d_match:!1,password_small:!1,user_exist:!1,register_success:!1},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"register_form",children:Object(b.jsxs)("form",{children:[this.state.password_d_match?Object(b.jsx)("div",{class:"alert alert-danger",role:"alert",children:"\u0412\u0430\u0448\u0438 \u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"}):Object(b.jsx)(b.Fragment,{}),this.state.password_small?Object(b.jsx)("div",{class:"alert alert-danger",role:"alert",children:"\u041f\u0430\u0440\u043e\u043b\u044c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439"}):Object(b.jsx)(b.Fragment,{}),this.state.user_exist?Object(b.jsx)("div",{class:"alert alert-danger",role:"alert",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0434\u0430\u043d\u043d\u044b\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0438\u043b\u0438 \u043f\u043e\u0447\u0442\u043e\u0439 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}):Object(b.jsx)(b.Fragment,{}),this.state.register_success?Object(b.jsx)("div",{class:"alert alert-success",role:"alert",children:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b, \u043c\u043e\u0436\u0435\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}):Object(b.jsx)(b.Fragment,{}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"login",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(b.jsx)("input",{ref:this.usernameRef,type:"text",className:"form-control",id:"login","aria-describedby":"emailHelp",name:"login",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(b.jsx)("input",{ref:this.emailRef,type:"email",className:"form-control",id:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",name:"email"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)("input",{ref:this.passwordRef,type:"password",name:"password",className:"form-control",id:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password2",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)("input",{ref:this.password2Ref,type:"password",name:"password1",className:"form-control",id:"password2",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:this.register_user,children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})})}}]),s}(a.Component),N=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(t){var a;return Object(i.a)(this,s),(a=e.call(this,t)).loginRef=n.a.createRef(),a.passwordRef=n.a.createRef(),a.login_user=function(t){t.preventDefault();var e=a.loginRef.current.value,s=a.passwordRef.current.value;a.props.login_user_func(e,s),console.log(a.props.login_errors)},a.state={display:!0},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsxs)("div",{style:{display:!this.props.auth||this.props.login_errors?"block":"none"},className:"login_form",children:[this.props.login_errors?Object(b.jsx)("div",{class:"alert alert-danger",role:"alert",children:"\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}):Object(b.jsx)(b.Fragment,{}),Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"login2",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(b.jsx)("input",{ref:this.loginRef,type:"text",className:"form-control",id:"login2","aria-describedby":"emailHelp",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password3",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)("input",{ref:this.passwordRef,type:"password",className:"form-control",id:"password3",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",onClick:this.login_user,className:"btn btn-primary",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}}]),s}(a.Component),R=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(t){return Object(i.a)(this,s),e.call(this,t)}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsxs)("div",{style:{display:this.props.current_task_vision?"block":"none"},class:"card",children:[Object(b.jsx)("div",{class:"card-header",children:this.props.task_title}),Object(b.jsx)("div",{class:"card-body",children:Object(b.jsxs)("blockquote",{class:"blockquote mb-0",children:[Object(b.jsx)("p",{children:this.props.task_content}),Object(b.jsx)("footer",{class:"blockquote-footer",children:this.props.task_date_ending}),Object(b.jsx)("a",{href:"#",class:"btn btn-primary",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})})]})}}]),s}(a.Component),C=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(){return Object(i.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"col-xl-6 col-lg-6 col-md-6",children:Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)("div",{className:"card-body",id:"content",children:[Object(b.jsx)(y,{auth:this.props.auth,add_new_task_in_state:this.props.add_new_task_in_state,current_task_vision:this.props.current_task_vision}),Object(b.jsx)(w,{auth:this.props.auth}),Object(b.jsx)(N,{login_user_func:this.props.login_user_func,auth:this.props.auth,login_errors:this.props.login_errors,get_user_tasks:this.props.get_user_tasks}),Object(b.jsx)(R,{current_task_vision:this.props.current_task_vision,task_title:this.props.task_title,task_content:this.props.task_content,task_date_ending:this.props.task_date_ending})]})})})}}]),s}(a.Component),S=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(t){var a;return Object(i.a)(this,s),(a=e.call(this,t)).show_task=function(t,e,s){a.setState({task_title:t,task_content:e,task_date_ending:s,current_task_vision:!0})},a.refresh_task_vision=function(){a.setState({current_task_vision:!1})},a.state={task_title:"",task_content:"",task_date_ending:"",current_task_vision:!1},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(x,{auth:this.props.auth,username:this.props.username,logout_user_func:this.props.logout_user_func,tasks:this.props.tasks,show_task:this.show_task,refresh_task_vision:this.refresh_task_vision}),Object(b.jsx)(C,{login_user_func:this.props.login_user_func,auth:this.props.auth,login_errors:this.props.login_errors,add_new_task_in_state:this.props.add_new_task_in_state,get_user_tasks:this.props.get_user_tasks,current_task_vision:this.state.current_task_vision,task_title:this.state.task_title,task_content:this.state.task_content,task_date_ending:this.state.task_date_ending})]})}}]),s}(a.Component),F=function(t){Object(u.a)(s,t);var e=Object(d.a)(s);function s(t){var a;return Object(i.a)(this,s),(a=e.call(this,t)).add_new_task_in_state=function(t){var e=Object(c.a)({},a.state.tasks);e["task".concat(Date.now())]=t,a.setState({tasks:e})},a.get_user_tasks=function(t){var e="Token "+localStorage.getItem("user_token");p()({method:"get",url:t,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:e}}).then((function(t){a.setState({tasks:t.data})}))},a.get_send_request=function(t){var e="Token "+localStorage.getItem("user_token");p()({method:"get",url:t,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:e}}).then((function(t){a.setState({login:t.data.username})}))},a.login_user_func=function(t,e){var s={username:t,password:e};p()({method:"post",url:"https://taskboard.pythonanywhere.com/auth/token/login/",data:s,config:{headers:{Accept:"application/json","Content-Type":"application/json"}}}).then((function(t){a.setState({auth:!0,login_errors:!1}),localStorage.setItem("user_token",t.data.auth_token),a.get_send_request("https://taskboard.pythonanywhere.com/auth/users/me"),a.get_user_tasks("https://taskboard.pythonanywhere.com/api/v1/list/tasks/")})).catch((function(t){a.setState({login_errors:!0})}))},a.logout_user=function(t){t.preventDefault();var e="Token "+localStorage.getItem("user_token");p()({method:"post",url:"https://taskboard.pythonanywhere.com/auth/token/logout/",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:e}}).then((function(t){console.log("good"),localStorage.removeItem("user_token"),a.setState({auth:!1,login:""})}))},a.state={auth:!1,login:"",login_errors:!1,tasks:{}},a}return Object(l.a)(s,[{key:"componentWillMount",value:function(){"Token null"!="Token "+localStorage.getItem("user_token")&&(this.setState({auth:!0}),this.get_send_request("https://taskboard.pythonanywhere.com/auth/users/me"),this.get_user_tasks("https://taskboard.pythonanywhere.com/api/v1/list/tasks/"))}},{key:"componentDidMount",value:function(){_()(document).delegate("#add_task_button","click",(function(){_()("#content").children().css("display","none"),_()(".task_add_form").slideToggle("slow")})),_()(document).delegate("#register_button","click",(function(){return _()("#content").children().css("display","none"),_()(".register_form").slideToggle(),!1})),_()(document).delegate("#login_button","click",(function(){return _()("#content").children().css("display","none"),_()(".login_form").slideToggle(),!1})),_()(document).delegate("#logout_user","click",(function(){return _()("#content").children().css("display","none"),!1}))}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(f,{}),Object(b.jsx)(S,{login_user_func:this.login_user_func,logout_user_func:this.logout_user,auth:this.state.auth,username:this.state.login,login_errors:this.state.login_errors,add_new_task_in_state:this.add_new_task_in_state,get_user_tasks:this.get_user_tasks,tasks:this.state.tasks})]})}}]),s}(a.Component),T=(s(45),function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,47)).then((function(e){var s=e.getCLS,a=e.getFID,n=e.getFCP,r=e.getLCP,o=e.getTTFB;s(t),a(t),n(t),r(t),o(t)}))});o.a.render(Object(b.jsx)(F,{}),document.getElementById("root")),T()}},[[46,1,2]]]);
//# sourceMappingURL=main.c9e2a0af.chunk.js.map